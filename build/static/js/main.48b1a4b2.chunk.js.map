{"version":3,"sources":["../../react-st/src/components/city-select/index.js","../../react-st/src/components/city-select/city-select.js","../../react-st/src/actions/index.js","../../react-st/src/components/baggage-weight/index.js","../../react-st/src/components/baggage-weight/baggage-weight.js","../../react-st/src/services/tickets-api.js","../../react-st/src/components/search-form/search-form.js","../../react-st/src/services/functions.js","../../react-st/src/components/ticket/index.js","../../react-st/src/components/ticket/ticket.js","../../react-st/src/components/spinner/index.js","../../react-st/src/components/spinner/spinner.js","../../react-st/src/components/tickets-found-list/index.js","../../react-st/src/components/tickets-found-list/tickets-found-list.js","../../react-st/src/components/basket/index.js","../../react-st/src/components/basket/basket.js","../../react-st/src/components/content-block/content-block.js","../../react-st/src/components/app/app.js","../../react-st/src/reducers/index.js","../../react-st/src/reducers/tickets.js","../../react-st/src/index.js"],"names":["CitySelect","connect","dispatch","cityToFormSelected","e","type","cityToId","target","value","actions","cityFromFormSelected","cityFromId","_ref","react_default","a","createElement","className","onChange","defaultValue","disabled","BaggageWeight","state","weight","filter","baggageWeightInc","baggageWeightDec","onClick","TicketsAPI","_tickets","id","from","to","time_departure","time_arrival","price","laggage_max","duration","_citisId","1","2","3","4","5","6","delay","ms","Promise","resolve","reject","setTimeout","findTickets","returnTickets","cityFromName","_this","parseInt","cityToName","forEach","loadingEnd","t","loadingStart","onFindTicketsError","ticketsAPI","then","result","components_city_select","components_baggage_weight","getTime","date","beatyTime","split","search","concat","getDate","replace","beatyPrice","num","toString","Ticket","Fragment","Spinner","TicketsFoundList","loading","ticketsInBasket","error","ticketsInBasketCount","ticketClick","ticketData","Object","objectSpread","currentTarget","dataset","classList","toggle","components_spinner","keys","length","tickets","i","_findTickets$i","ticketClassName","push","key","data-id","data-price","data-to","data-from","components_ticket","Basket","buyButtonClick","ticketInBasketClick","_ticketsInBasket$i","components_tickets_found_list","components_basket","App","search_form_search_form","content_block_content_block","Component","updateTickets","action","undefined","returnData","esm_extends","console","log","JSON","stringify","store","createStore","reducer","ReactDOM","render","es","app_App","document","getElementById"],"mappings":"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","file":"static/js/main.48b1a4b2.chunk.js","sourcesContent":["import CitySelect from './city-select';\n\nexport default CitySelect;","import React from 'react';\nimport './city-select.css';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/';\n\nconst CitySelect = ({cityToFormSelected, cityFromFormSelected}) => {\n  return(\n    <div className='city-select'>\n      <span className='city-select-from'>\n        <div className='city-select-text'>Откуда</div>\n        <select className=\"custom-select custom-select-lg mb-3 city-from\" onChange={cityFromFormSelected} defaultValue={'DEFAULT'}>\n          <option value='DEFAULT' disabled >Выберете город</option>\n          <option value='1'>Москва</option>\n          <option value='2'>Санкт-Петербург</option>\n          <option value='3'>Париж</option>\n          <option value='4'>Лондон</option>\n          <option value='5'>Вашингтон</option>\n          <option value='6'>Оттава</option>\n        </select>\n      </span>\n      <span className='city-select-to'>\n        <div className='city-select-text'>Куда</div>\n        <select className=\"custom-select custom-select-lg mb-3 city-to\" onChange={cityToFormSelected} defaultValue={'DEFAULT'}>\n          <option value='DEFAULT' disabled >Выберете город</option>\n          <option value='1'>Москва</option>\n          <option value='2'>Санкт-Петербург</option>\n          <option value='3'>Париж</option>\n          <option value='4'>Лондон</option>\n          <option value='5'>Вашингтон</option>\n          <option value='6'>Оттава</option>\n        </select>\n      </span>\n    </div>\n  );\n}\n\nconst mapStateToProps = () => {\n  return {}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    cityToFormSelected: (e) => dispatch(actions.cityToFormSelected(e)),\n    cityFromFormSelected: (e) => dispatch(actions.cityFromFormSelected(e)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CitySelect);","export const cityToFormSelected = (e) => {\n  return {\n    type: 'CITY_TO_FORM_SELECTED',\n    cityToId: e.target.value\n  };\n};\n\nexport const cityFromFormSelected = function (e) {\n  return {\n    type: 'CITY_FROM_FORM_SELECTED',\n    cityFromId: e.target.value\n  };\n};\n\nexport const baggageWeightInc = () => {\n  return {\n    type: 'BAGGAGE_WEIGHT_INC',\n  };\n};\n\nexport const baggageWeightDec = () => {\n  return {\n    type: 'BAGGAGE_WEIGHT_DEC',\n  };\n};\n\nexport const getTicketsFromAPI = () => {\n  return {\n    type: 'GET_TICKETS',\n  };\n};\n\nexport const loadingStart = () => {\n  return {\n    type: 'LOADING_START',\n  };\n};\n\nexport const loadingEnd = (findTickets) => {\n  return {\n    type: 'LOADING_END',\n    findTickets: findTickets\n  };\n};\n\nexport const ticketClick = (e) => {\n  const ticketData = {...e.currentTarget.dataset};\n  e.currentTarget.classList.toggle('in-basket');\n  return {\n    type: 'TICKET_CLICK',\n    ticketData: ticketData\n  };\n}\n\nexport const ticketInBasketClick = (e) => {\n  const id = e.currentTarget.dataset.id;\n  e.currentTarget.classList.toggle('in-basket');\n  return {\n    type: 'TICKET_IN_BASKET_CLICK',\n    id: id\n  };\n}\n\nexport const buyButtonClick = () => {\n  return {\n    type: 'BUY_TICKETS',\n  };\n}\n\nexport const onFindTicketsError = () => {\n  return {\n    type: 'ERROR',\n  };\n}","import BaggageWeight from './baggage-weight';\n\nexport default BaggageWeight;","import React from 'react';\nimport './baggage-weight.css';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/';\n\nconst BaggageWeight = ({weight, baggageWeightInc, baggageWeightDec}) => {\n  return(\n    <div className='baggage-weight'>\n      <div className=\"baggage-weight-text\">\n        Багаж (кг)\n      </div>\n        <i className=\"fa fa-plus-circle\" onClick={baggageWeightInc}></i>\n        <span className='baggage-weight-kilo'>{weight}</span>\n        <i className=\"fa fa-minus-circle\" onClick={baggageWeightDec}></i>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    weight: state.filter.weight\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    baggageWeightInc: () => dispatch(actions.baggageWeightInc()),\n    baggageWeightDec: () => dispatch(actions.baggageWeightDec()),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BaggageWeight);","export default class TicketsAPI {\n\n  _tickets = [\n    {\n    \"id\": 1,\n    \"from\": \"Санкт-Петербург\",\n    \"to\": \"Москва\",\n    \"time_departure\": \"20-05-2018 8:20\",\n    \"time_arrival\": \"20-05-2018 9:20\",\n    \"price\": 40000,\n    \"laggage_max\": 5,\n    \"duration\": 3\n    },\n    {\n    \"id\": 2,\n    \"from\": \"Санкт-Петербург\",\n    \"to\": \"Москва\",\n    \"time_departure\": \"21-05-2018 9:20\",\n    \"time_arrival\": \"21-05-2018 10:20\",\n    \"price\": 50000,\n    \"laggage_max\": 8,\n    \"duration\": 3\n    },\n    {\n    \"id\": 3,\n    \"from\": \"Санкт-Петербург\",\n    \"to\": \"Москва\",\n    \"time_departure\": \"22-05-2018 9:20\",\n    \"time_arrival\": \"22-05-2018 10:20\",\n    \"price\": 60000,\n    \"laggage_max\": 12,\n    \"duration\": 3\n    },\n    {\n    \"id\": 4,\n    \"from\": \"Париж\",\n    \"to\": \"Лондон\",\n    \"time_departure\": \"22-05-2018 9:20\",\n    \"time_arrival\": \"22-05-2018 17:20\",\n    \"price\": 60000,\n    \"laggage_max\": 12,\n    \"duration\": 8\n    },\n    {\n    \"id\": 5,\n    \"from\": \"Париж\",\n    \"to\": \"Лондон\",\n    \"time_departure\": \"22-05-2018 9:20\",\n    \"time_arrival\": \"22-05-2018 17:20\",\n    \"price\": 20000,\n    \"laggage_max\": 4,\n    \"duration\": 8\n    },\n    {\n    \"id\": 6,\n    \"from\": \"Париж\",\n    \"to\": \"Лондон\",\n    \"time_departure\": \"10-05-2018 9:20\",\n    \"time_arrival\": \"10-05-2018 17:20\",\n    \"price\": 65000,\n    \"laggage_max\": 6,\n    \"duration\": 8\n    },\n    {\n    \"id\": 7,\n    \"from\": \"Вашингтон\",\n    \"to\": \"Оттава\",\n    \"time_departure\": \"22-05-2018 9:20\",\n    \"time_arrival\": \"22-05-2018 17:20\",\n    \"price\": 60000,\n    \"laggage_max\": 5,\n    \"duration\": 15\n    },\n    {\n    \"id\": 8,\n    \"from\": \"Вашингтон\",\n    \"to\": \"Оттава\",\n    \"time_departure\": \"10-05-2018 9:20\",\n    \"time_arrival\": \"10-05-2018 17:20\",\n    \"price\": 50000,\n    \"laggage_max\": 5,\n    \"duration\": 16\n    },\n    {\n    \"id\": 9,\n    \"from\": \"Вашингтон\",\n    \"to\": \"Оттава\",\n    \"time_departure\": \"22-05-2018 9:20\",\n    \"time_arrival\": \"22-05-2018 17:20\",\n    \"price\": 90000,\n    \"laggage_max\": 5,\n    \"duration\": 16\n    }\n    ]\n\n  _citisId = {\n    1: 'Москва',\n    2: 'Санкт-Петербург',\n    3: 'Париж',\n    4: 'Лондон',\n    5: 'Вашингтон',\n    6: 'Оттава'\n  };\n\n  delay = (ms) => {\n    return new Promise((resolve, reject) => {\n      setTimeout(resolve, ms);\n    });\n  }\n  \n  findTickets = ({cityFromId, cityToId, weight }) => {\n    const returnTickets = {};\n    const cityFromName = this._citisId[parseInt(cityFromId)];\n    const cityToName = this._citisId[parseInt(cityToId)];\n    this._tickets.forEach(e => {\n      if (\n        e.from === cityFromName\n        && e.to === cityToName\n        && e.laggage_max >= weight\n      ) {\n        returnTickets[e.id] = e;\n      }\n    });\n    return returnTickets;\n  };\n\n\n}\n","import React from 'react';\r\nimport * as actions from '../../actions/';\r\nimport { connect } from 'react-redux';\r\n\r\nimport './search-form.css';\r\nimport CitySelect from '../city-select';\r\nimport BaggageWeight from '../baggage-weight';\r\nimport TicketsAPI from '../../services/tickets-api';\r\n\r\n\r\n\r\nconst SearchForm = ({cityToId, cityFromId, weight, loadingStart, loadingEnd, onFindTicketsError}) => {\r\n  if(\r\n    cityToId > 0\r\n    && cityFromId > 0\r\n    && weight > 0\r\n  ) {\r\n    loadingStart();\r\n    const ticketsAPI = new TicketsAPI();\r\n    ticketsAPI.delay(1000)\r\n      .then(() => {\r\n        return ticketsAPI.findTickets({\r\n        cityToId: cityToId,\r\n        cityFromId: cityFromId,\r\n        weight: weight\r\n      });}, onFindTicketsError)\r\n      .then((result) => {\r\n        loadingEnd(result);\r\n      })\r\n  }\r\n  return (\r\n      <header className='search-form'>\r\n        <CitySelect/>\r\n        <BaggageWeight/>\r\n      </header>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cityToId: state.filter.cityToId,\r\n    cityFromId: state.filter.cityFromId,\r\n    weight: state.filter.weight\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    loadingEnd: (t) => dispatch(actions.loadingEnd(t)),\r\n    loadingStart: () => dispatch(actions.loadingStart()),\r\n    onFindTicketsError: () => dispatch(actions.onFindTicketsError()),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchForm);","export const getTime = (date) => {\n  let beatyTime = date.split(' ')[1];\n  if (beatyTime.search(/^\\d:/) > -1) beatyTime = `0${beatyTime}`;\n  return beatyTime;\n}\n\nexport const getDate = (date) => {\n  return date.split(' ')[0].replace(/-/g, '.');\n}\n\nexport const beatyPrice = (num) => {\n  const n = num.toString();\n  return n.replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, \"$1 \");\n}","import Ticket from './ticket'\n\nexport default Ticket;","import React from 'react';\nimport './ticket.css';\n\nimport { getTime, getDate, beatyPrice } from '../../services/functions';\n\nconst Ticket = ({id, from, to, price, duration, time_arrival, time_departure}) => {\n  return(\n    <React.Fragment>\n      <div className='from-info'>\n        <span className='from-info-time'>{getTime(time_departure)}</span>\n        <span className='from-info-date'>\n            {from}\n           <br/>\n          {getDate(time_departure)}\n          \n        </span>\n      </div>\n      <div className=\"ticket-info-price\">\n        <span className='duration'>{duration}ч</span>\n        <span className='price'>{beatyPrice(price)} р</span>\n      </div>\n      <div className='to-info'>\n        <span className='to-info-time'>{getTime(time_arrival)}</span>\n        <span className='to-info-date'>\n            {to}\n          <p>\n          {getDate(time_arrival)}\n          </p>\n        </span>\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default Ticket;","import Spinner from './spinner';\n\nexport default Spinner;","import React from 'react';\nimport './spinner.css';\n\nconst Spinner = () => {\n  return (\n    <div className='spinner'>\n      <div id=\"preloader\"></div>\n      <div id=\"loader\"></div>\n    </div>\n  );\n}\n\nexport default Spinner;","import TicketsFoundList from './tickets-found-list'\n\nexport default TicketsFoundList;","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/';\nimport Ticket from '../ticket/';\nimport Spinner from '../spinner/';\nimport './tickets-found-list.css'\n\nconst TicketsFoundList = ({findTickets, loading, ticketClick, ticketsInBasket, error}) => {\n  if (loading) {\n    return (\n      <Spinner/>\n    );\n  }\n  if(!findTickets || error) return (\n    <div className='not-found-tickets'>\n      Возникла ошибка при поиске билетов\n    </div>\n  );\n  if(Object.keys(findTickets).length === 0) return (\n    <div className='not-found-tickets'>\n      Не найдено билетов\n    </div>\n  );\n  const tickets = [];\n  for(let i in findTickets){\n    const {id, price, to, from} = findTickets[i];\n    let ticketClassName = 'ticket';\n    ticketClassName += (id in ticketsInBasket) ? ' in-basket' : '';\n    tickets.push(\n      <div key={id} className={ticketClassName} data-id={id} data-price={price} data-to={to} data-from={from} onClick={ticketClick}>\n        <Ticket {...findTickets[i]} />\n      </div>\n    );\n  }\n\n  return(\n    <div className='tickets'>\n      {tickets}\n    </div>\n  );\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    findTickets: state.findTickets,\n    loading: state.loading,\n    ticketsInBasket: state.ticketsInBasket,\n    error: state.error,\n    ticketsInBasketCount: state.ticketsInBasketCount\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ticketClick: (e) => dispatch(actions.ticketClick(e)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TicketsFoundList);","import Basket from './basket';\n\nexport default Basket;","import React from 'react';\nimport './basket.css';\nimport { buyButtonClick, ticketInBasketClick } from '../../actions/';\nimport { connect } from 'react-redux';\nimport { beatyPrice } from '../../services/functions';\n\nconst Basket = ({ticketsInBasket, ticketsInBasketCount, buyButtonClick, ticketInBasketClick}) => {\n  if (ticketsInBasketCount === 0) {\n    return (\n      <div className=\"empty-basket\">\n        Корзина пуста\n      </div>\n    );\n  }\n  const tickets = [];\n  for(let i in ticketsInBasket){\n    const {id, from, to, price} = ticketsInBasket[i];\n    tickets.push(\n      <div className='ticket-in-basket' key={id} data-id={id} onClick={ticketInBasketClick}>\n        <div className=\"cities\">\n           <span className='cities-from'>{from}</span> <span className=\"cities-to\">{to}</span> <br/>\n         </div>\n         <div className=\"summ\">\n         \t<span className=\"ticket-important-info\">2</span> билета на сумму <span className=\"ticket-important-info\">{beatyPrice(price * 2)}</span>\n         </div>\n       </div>\n    );\n  }\n  return(\n    <div className=\"basket\">\n      <div className='tickets-in-basket'>\n        {tickets}\n      </div>\n      <button type=\"button\" className=\"btn btn-primary basket-buy-button\"onClick={buyButtonClick}>Купить</button>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    ticketsInBasket: state.ticketsInBasket, \n    ticketsInBasketCount: state.ticketsInBasketCount, \n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    buyButtonClick: () => dispatch(buyButtonClick()),\n    ticketInBasketClick: (e) => dispatch(ticketInBasketClick(e)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Basket);","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport TicketsFoundList from '../tickets-found-list'\nimport Basket from '../basket';\nimport './content-block.css';\n\nconst ContentBlock = ({cityToId, cityFromId}) => {\n  if (cityToId === null || cityFromId === null) {\n    return (\n      <main>\n        <div className=\"empty-content-block\">\n        \tНачните поиск билетов\n        </div>\n      </main>\n    );\n  } else {\n    return(\n      <main>\n        <TicketsFoundList/>\n        <Basket/>\n      </main>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    cityToId: state.filter.cityToId,\n    cityFromId: state.filter.cityFromId\n  }\n}\n\nexport default connect(mapStateToProps)(ContentBlock);","import React, { Component } from 'react';\r\n\r\nimport './app.css';\r\nimport SearchForm from '../search-form/search-form';\r\nimport ContentBlock from '../content-block/content-block';\r\n\r\nexport default class App extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <SearchForm/>\r\n        <ContentBlock/>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n};\r\n","import updateTickets from './tickets';\n\nexport default updateTickets;\n","const updateTickets = (state, action) => {\n\n  if (state === undefined) {\n    return {\n      findTickets: {},\n      ticketsInBasket: {},\n      ticketsInBasketCount: 0,\n      filter: {cityToId: null, cityFromId: null, weight: 6},\n      loading: false,\n      error: false\n    };\n  }\n\n  switch (action.type) {\n    case 'CITY_TO_FORM_SELECTED': {\n      let {...returnData} = state;\n      returnData.filter.cityToId = action.cityToId;\n      return returnData;\n    }\n    \n    case 'CITY_FROM_FORM_SELECTED': {\n      let {...returnData} = state;\n      returnData.filter.cityFromId = action.cityFromId;\n      return returnData;\n    }\n    \n    case 'BAGGAGE_WEIGHT_INC': {\n      let {...returnData} = state;\n      returnData.filter.weight = state.filter.weight + 1;\n      return returnData;\n    }\n    \n    case 'BAGGAGE_WEIGHT_DEC': {\n      let {...returnData} = state;\n      returnData.filter.weight = state.filter.weight - 1;\n      return returnData;\n    }\n\n    case 'LOADING_END': {\n      let {...returnData} = state;\n      returnData.findTickets = action.findTickets;\n      returnData.loading = false;\n      returnData.error = false;\n      return returnData;\n    }\n\n    case 'LOADING_START': {\n      let {...returnData} = state;\n      returnData.loading = true;\n      return returnData;\n    }\n\n    case 'TICKET_CLICK': {\n      let {...returnData} = state;\n      if (returnData.ticketsInBasket[action.ticketData.id]) {\n        delete returnData.ticketsInBasket[action.ticketData.id];\n        returnData.ticketsInBasketCount -= 1;\n      } else {\n        returnData.ticketsInBasket[action.ticketData.id] = action.ticketData;\n        returnData.ticketsInBasketCount += 1;\n      }\n      return returnData;\n    }\n    \n    case 'TICKET_IN_BASKET_CLICK': {\n      let {...returnData} = state;\n      delete returnData.ticketsInBasket[action.id];\n      returnData.ticketsInBasketCount -= 1;\n      return returnData;\n    }\n    \n    case 'ERROR': {\n      let {...returnData} = state;\n      returnData.error = true;\n      return returnData;\n    }\n\n    case 'BUY_TICKETS': {\n      if (state.ticketsInBasketCount === 0) return state;\n      const {ticketsInBasket} = state;\n      console.log(`Данные, которые отправляем на сервер: ${JSON.stringify(ticketsInBasket)}`);\n      return state;\n    }\n\n\n    default:\n      return state;\n  }\n};\n\nexport default updateTickets;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\n\r\nimport App from './components/app/app';\r\n\r\nimport reducer from './reducers/';\r\nimport { createStore } from 'redux';\r\n\r\nconst store = createStore(reducer);\r\n\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>,\r\n    document.getElementById('root'));\r\n"],"sourceRoot":""}